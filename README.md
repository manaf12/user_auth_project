# 👤 مشروع تسجيل مستخدم وتسجيل دخول باستخدام Django + JWT + Frontend

نظام تسجيل وتسجيل دخول آمن باستخدام Django REST Framework، JWT لتوليد التوكنات، وواجهة أمامية بسيطة مبنية بـ HTML وJavaScript.  
يشمل إرسال بريد ترحيبي، وتشفير كلمة السر باستخدام `bcrypt`.

---

## 🚀 الميزات الأساسية

- ✅ **تسجيل مستخدم جديد**: يتم استقبال بيانات المستخدم (مثل الاسم، البريد الإلكتروني، وكلمة المرور) وتخزينها في قاعدة البيانات بعد التحقق من تطابق كلمة المرور.
- ✅ **تشفير كلمة السر باستخدام `bcrypt`**: يتم استخدام مكتبة `bcrypt` لتشفير كلمات المرور قبل تخزينها.
- ✅ **تسجيل الدخول**: يتم التحقق من البريد الإلكتروني وكلمة المرور الخاصة بالمستخدم، وإذا كانت صحيحة يتم إرسال توكن JWT صالح للاستخدام لمدة ساعة.
- ✅ **عرض معلومات المستخدم عبر مسار محمي**: يوجد مسار محمي (`/profile/`) يعرض بيانات المستخدم مثل البريد الإلكتروني والاسم، ويتم الوصول إليه باستخدام توكن JWT صالح.
- ✅ **إرسال بريد ترحيبي تلقائي**: عند التسجيل، يتم إرسال بريد ترحيبي للمستخدم باستخدام نظام البريد في Django.
- ✅ **واجهة أمامية بسيطة**: يتم استخدام HTML وJavaScript للتفاعل مع الـ API، حيث تتضمن الواجهة نماذج لتسجيل المستخدم وتسجيل الدخول.

---

## 📂 البنية العامة


---

## 🔐 الـ Endpoints

### 1. `POST /api/register/`

يستقبل هذا المسار بيانات المستخدم (مثل الاسم، البريد الإلكتروني، وكلمة المرور). يتم التحقق من أن كلمة المرور والتأكيد متطابقين، وإذا كانت البيانات صحيحة، يتم تخزين المستخدم في قاعدة البيانات. بالإضافة إلى ذلك، يتم إرسال بريد ترحيبي إلى المستخدم.

### 2. `POST /api/login/`

يستقبل هذا المسار البريد الإلكتروني وكلمة المرور، ويتم التحقق من صحة هذه البيانات. إذا كانت البيانات صحيحة، يتم إنشاء توكن JWT جديد يتم إرساله إلى المستخدم. يتضمن الرد كل من توكن الـ `access` و`refresh`.

### 3. `GET /api/profile/` (يتطلب توكن)

يتم استخدام هذا المسار للحصول على بيانات المستخدم. يطلب هذا المسار توكن صالح في رأس الطلب (Authorization header)، وإذا كان التوكن صالحًا، يتم إرجاع بيانات المستخدم (مثل البريد الإلكتروني والاسم).

---

## 💻 الواجهة الأمامية

تم تضمين الواجهة الأمامية في مجلد `frontend`، وتشمل الملفات التالية:

- **register.html**: يتضمن نموذج لتسجيل المستخدم الجديد، حيث يطلب من المستخدم إدخال البيانات المطلوبة مثل الاسم والبريد الإلكتروني وكلمة المرور.
- **login.html**: يتضمن نموذج لتسجيل الدخول باستخدام البريد الإلكتروني وكلمة المرور. بعد تقديم النموذج، يتم إرسال البيانات إلى الـ API للحصول على توكن JWT.
- **profile.html**: تعرض بيانات المستخدم مثل البريد الإلكتروني والاسم بعد التحقق من التوكن في الـ API.

### كيفية عمل الواجهة الأمامية:

1. **نموذج التسجيل (register.html)**:
   - عند تعبئة النموذج وإرساله، يتم إرسال بيانات المستخدم إلى الـ API عبر طلب `POST` إلى `/api/register/`.
   - إذا تم تسجيل المستخدم بنجاح، سيتم إرسال بريد ترحيبي عبر البريد الإلكتروني.

2. **نموذج الدخول (login.html)**:
   - عند إدخال البريد الإلكتروني وكلمة المرور وإرسال النموذج، يتم إرسال البيانات إلى الـ API عبر طلب `POST` إلى `/api/login/`.
   - إذا كانت بيانات الدخول صحيحة، يتم الحصول على توكن `access` و`refresh` من الـ API.

3. **عرض الملف الشخصي (profile.html)**:
   - بعد تسجيل الدخول بنجاح، يتم إرسال التوكن المرافق في رأس الطلب (Authorization header) إلى الـ API عبر طلب `GET` إلى `/api/profile/` للحصول على بيانات المستخدم.
   - إذا كان التوكن صالحًا، سيتم إرجاع بيانات المستخدم وعرضها على الصفحة.

---

## 💡 ملاحظات

- يتم استخدام **`bcrypt`** لتشفير كلمات المرور بشكل آمن.
- يمكن إضافة المزيد من الميزات في المستقبل مثل إعادة تعيين كلمة المرور، تحديث الملف الشخصي، وتسجيل الخروج باستخدام Blacklist لتوكنات الـ JWT.
- إذا كانت الواجهة الأمامية لا تعمل حاليًا، يمكن تطويرها لاحقًا باستخدام JavaScript أو من خلال إطار عمل مثل React أو Vue.js.

---

## 🛠️ التقنيات المستخدمة

- **Django**: لإنشاء الـ backend والتفاعل مع قاعدة البيانات.
- **Django REST Framework**: لبناء API RESTful.
- **JWT (JSON Web Tokens)**: لتوليد وإدارة التوكنات.
- **bcrypt**: لتشفير كلمات المرور بشكل آمن.
- **HTML/JavaScript**: لبناء الواجهة الأمامية.
- **Django Email**: لإرسال بريد ترحيبي عند التسجيل.

---

## 📩 للإتصال

إذا كانت لديك أي استفسارات أو مشاكل، لا تتردد في التواصل!

project/
│
├── accounts/ ← التطبيق الأساسي
│ ├── models.py ← تعريف CustomUser
│ ├── serializers.py ← Serializers للتسجيل والدخول
│ ├── views.py ← منطق API
│ └── urls.py ← روابط API
│
├── frontend/ ← الواجهة الأمامية
│ ├── register.html ← نموذج تسجيل المستخدم
│ ├── login.html ← نموذج تسجيل الدخول
│ └── profile.html ← عرض بيانات المستخدم
│
├── user_auth_project/
│ ├── settings.py ← إعدادات المشروع
│ └── urls.py ← تضمين روابط التطبيقات